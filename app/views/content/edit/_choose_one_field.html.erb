<%
  data ||= {}
  selected = edition.contents[field.name] || data[field.name] || field.default
%>

<% if field.input == "select" %>
  <%
    options = field.options.map do |option|
      {
        text: option["label"],
        value: option["name"],
        selected: selected == option["name"],
      }
    end
  %>
  <%= render "govuk_publishing_components/components/select", {
    label: field.label,
    id: "choose-one-#{field.name}-field",
    name: field.name,
    options: [{ text: "", value: "" }] + options
  } %>
<% else %>
  <%= render "govuk_publishing_components/components/radio", {
    heading: field.label,
    name: field.name,
    items: field.options.map do |option|
      {
        text: option["label"],
        value: option["name"],
        checked: selected == option["name"],
      }
    end
  } %>
<% end %>
