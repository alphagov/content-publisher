<%
  textarea ||= {}
  edit_button_text ||= 'Edit markdown'
  preview_button_text ||= 'Preview markdown'
%>
<div class="app-c-markdown-editor" data-module="markdown-editor" data-govspeak-path="<%= govspeak_preview_path %>">
  <%= render "govuk_publishing_components/components/label", {
      html_for: textarea[:id]
  }.merge(label.symbolize_keys) %>
  <div class="app-c-markdown-editor__container">
    <div class="app-c-markdown-editor__head js-markdown-editor__head">
      <div class="app-c-markdown-editor__preview-toggle">
        <button type="button" class="app-c-markdown-editor__button app-c-markdown-editor__button--muted js-markdown-edit-button"><%= edit_button_text %></button>
        <button type="button" class="app-c-markdown-editor__button js-markdown-preview-button"><%= preview_button_text %></button>
      </div>
      <div class="app-c-markdown-editor__toolbar">
        <markdown-toolbar class="app-c-markdown-editor__toolbar-group" for="<%= textarea[:id] %>">
          <md-header-2 class="app-c-markdown-editor__toolbar-button">
            <i class="app-c-markdown-editor__toolbar-icon app-c-markdown-editor__toolbar-icon--heading-2" title="Heading level 2" aria-hidden="true"></i>
            <span class="govuk-visually-hidden">Heading level 2</span>
          </md-header-2>
          <md-header-3 class="app-c-markdown-editor__toolbar-button">
            <i class="app-c-markdown-editor__toolbar-icon app-c-markdown-editor__toolbar-icon--heading-3" title="Heading level 3" aria-hidden="true"></i>
            <span class="govuk-visually-hidden">Heading level 3</span>
          </md-header-3>
          <md-link class="app-c-markdown-editor__toolbar-button">
            <i class="app-c-markdown-editor__toolbar-icon app-c-markdown-editor__toolbar-icon--link" title="Link" aria-hidden="true"></i>
            <span class="govuk-visually-hidden">Link</span>
          </md-link>
          <md-quote class="app-c-markdown-editor__toolbar-button">
            <i class="app-c-markdown-editor__toolbar-icon app-c-markdown-editor__toolbar-icon--blockquote" title="Blockquote" aria-hidden="true"></i>
            <span class="govuk-visually-hidden">Blockquote</span>
          </md-quote>
          <md-ordered-list class="app-c-markdown-editor__toolbar-button">
            <i class="app-c-markdown-editor__toolbar-icon app-c-markdown-editor__toolbar-icon--numbered-list" title="Numbered list" aria-hidden="true"></i>
            <span class="govuk-visually-hidden">Numbered list</span>
          </md-ordered-list>
          <md-unordered-list class="app-c-markdown-editor__toolbar-button">
            <i class="app-c-markdown-editor__toolbar-icon app-c-markdown-editor__toolbar-icon--bullets" title="Bullets" aria-hidden="true"></i>
            <span class="govuk-visually-hidden">Bullets</span>
          </md-unordered-list>
          <button name="submit" type="submit" value="add_contact" class="app-c-markdown-editor__toolbar-button app-c-markdown-editor__toolbar-button--text app-c-markdown-editor__toolbar-button--end">Add contact</button>
        </markdown-toolbar>
      </div>
    </div>

    <div class="app-c-markdown-editor__input js-markdown-editor-input">
      <%= render "govuk_publishing_components/components/textarea", textarea %>
    </div>

    <div class="app-c-markdown-editor__preview js-markdown-preview-body">
      <%= render "govuk_publishing_components/components/govspeak", { } do %>
        <div class="govuk-textarea"></div>
      <% end %>
    </div>
  </div>
</div>
